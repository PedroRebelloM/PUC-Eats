{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PUC Eats - Painel Administrativo</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous"
    />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/admin.css' %}">
</head>
<body>
    <header class="admin-header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <span class="material-icons">admin_panel_settings</span>
                    </div>
                    <div class="logo-text">
                        <h1>PUC <span class="text-accent">Eats</span></h1>
                        <p>Painel de Administração</p>
                    </div>
                </div>
                
                <div class="header-actions">
                    {% if user.is_authenticated %}
                    <div class="admin-badge">
                        <span class="material-icons" style="font-size: 18px;">verified_user</span>
                        <span>{{ user.first_name|default:user.username }}</span>
                    </div>
                    {% endif %}
                    
                    <a href="{% url 'puceats:index' %}" class="btn-header">
                        <span class="material-icons" style="font-size: 18px;">home</span>
                        <span>Início</span>
                    </a>
                    
                    {% if user.is_authenticated %}
                    <a href="{% url 'puceats:logout' %}" class="btn-header btn-logout">
                        <span class="material-icons" style="font-size: 18px;">logout</span>
                        <span class="d-none d-md-inline">Sair</span>
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>

    <main class="container py-4">
        <!-- Cards de Estatísticas -->
        <div class="row g-4 mb-5">
            <!-- Card Usuários -->
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
                        <span class="material-icons">people</span>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Usuários</p>
                        <h3 class="stat-value">{{ total_users }}</h3>
                        <p class="stat-description">Total cadastrados</p>
                    </div>
                </div>
            </div>

            <!-- Card Restaurantes -->
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #9CCC65 0%, #8BC34A 100%);">
                        <span class="material-icons">restaurant</span>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Restaurantes</p>
                        <h3 class="stat-value">{{ total_restaurants }}</h3>
                        <p class="stat-description">Estabelecimentos ativos</p>
                    </div>
                </div>
            </div>

            <!-- Card Pratos -->
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                        <span class="material-icons">lunch_dining</span>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Pratos</p>
                        <h3 class="stat-value">{{ total_dishes }}</h3>
                        <p class="stat-description">No cardápio</p>
                    </div>
                </div>
            </div>

            <!-- Card Tokens -->
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
                        <span class="material-icons">vpn_key</span>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Tokens</p>
                        <h3 class="stat-value">{{ tokens_available }}</h3>
                        <p class="stat-description">{{ tokens_used }} usados de {{ total_tokens }}</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
